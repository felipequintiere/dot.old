
# ==============================================================================
# sway-specific configuration
# these settings apply only to swaywm and may not be compatible with i3
# ==============================================================================

# I'm using Mod4 as Mod1 and viceversa
#set $mod Mod1
set $mod Mod4

# desktop settings
set $monitor1 HDMI-A-2
set $keyboard "6127:24729:Lenovo_Lenovo_Traditional_USB_Keyboard"
set $mouse "1133:49271:Logitech_USB_Optical_Mouse"

# laptop settings
set $laptop-screen eDP-1
set $touchpad ""

exec /usr/bin/otd-daemon

include ~/.config/sway/appearance.conf
include ~/.config/sway/bar_i3status.conf
include /etc/sway/config.d/*



output $monitor1 {
    res 1920x1080@74.973Hz
    pos 0 0
    scale 1
    background ~/.config/wallpaper/red.jpg stretch
    #background #000000 solid_color
    # position may need adjustment when scale is enabled
}

input $keyboard {
    xkb_layout us,br
    xkb_options grp:alt_space_toggle,ctrl:nocaps,altwin:swap_alt_win
    repeat_delay 200
    repeat_rate 35
}

input $mouse {
    natural_scroll disabled
    accel_profile "flat"
    #pointer_accel 0.5
    #left_handed enabled
}

output $laptop-screen {
        res 1920x1080
        pos 0 0
        scale 1
        #background ~/.config/wallpaper/red.jpg stretch
        background #000000 solid_color
}
#bindswitch --reload --locked lid:on output $laptop disable
#bindswitch --reload --locked lid:off output $laptop enable

#input type:touchpad {
input $touchpad {
    dwt enabled
    tap enabled
    natural_scroll enabled
    #middle_emulation enabled
    accel_profile "flat"
    #pointer_accel 0.5
}



bindsym $mod+Return exec $HOME/.config/settings/fish.sh
bindsym $mod+Shift+Return exec alacritty
bindsym $mod+d exec ~/.config/settings/wmenu-run.sh
bindsym $mod+i exec ~/.config/settings/wmenu_xournalpp.sh
bindsym $mod+o exec ~/.config/settings/wmenu_books.sh
bindsym $mod+p exec ~/.config/settings/wmenu_scripts.sh

bindsym $mod+Shift+b bar topbar mode toggle

bindsym $mod+Control+r reload
bindsym $mod+Control+q exec i3-msg exit
bindsym $mod+Shift+r reload
bindsym $mod+Shift+e exec i3-msg exit

bindsym $mod+b splith
bindsym $mod+v splitv

# change normal to inverse to use left mouse button for resizing and right
floating_modifier $mod normal



bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle

bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+

bindsym Print exec grim



# ==============================================================================
# shared i3/sway configuration
# ==============================================================================


# read 'man 5 sway-bar'
#bar topbar {
#    font pango:monospace 10
#    binding_mode_indicator yes
#    #height 30
#    position top
#    separator_symbol ":|:"
#    #mode invisible
#
#    status_command i3status -c ~/.config/i3status/i3status.conf
#    #status_command while date +'%Y-%m-%d %X'; do sleep 1; done
#    #strip_workspace_name no
#
#    #tray_output none
#    tray_padding 0 px
#
#    colors {
#        #statusline #ffffff
#        #background #323232
#        #inactive_workspace #32323200 #32323200 #5c5c5c
#
#	background #000000
#	statusline #ffffff
#	separator #a8a8a8
#
#	# class    #border    #background    #text
#	focused_workspace #000000 #000000 #ffffff
#	active_workspace #a8a8a8 #a8a8a8 #ffffff
#	inactive_workspace #000000 #000000 #888888
#	urgent_workspace #2f343a #900000 #ffffff
#	binding_mode #9d07e0 #9d07e0 #ffffff
#    }
#}



for_window [class="Anki"] floating enable
for_window [class="Virt-manager"] floating enable
for_window [class="VirtualBox Manager"] floating enable
for_window [class="PacketTracer"] floating enable
for_window [class="steam"] floating enable
for_window [class="discord"] floating enable
for_window [class="dropdown"] move to scratchpad, floating enable, resize set 900 px 700 px
#for_window [class="Anki"] move to scratchpad, floating enable

floating_minimum_size 200 x 200
floating_maximum_size 1920 x 1080
tiling_drag modifier
focus_follows_mouse yes




# adjust volume (pactl)
bindsym $mod+Shift+x exec ~/.config/settings/inc_vol.sh
bindsym $mod+Shift+z exec ~/.config/settings/dec_vol.sh

# scratchpad configuration
bindsym $mod+Shift+s move scratchpad
bindsym $mod+s scratchpad show




mode "window" {
	# change alacritty's theme
	bindsym $mod+p exec ~/.config/alacritty/theme_up.sh
	bindsym $mod+n exec ~/.config/alacritty/theme_down.sh
	bindsym p exec ~/.config/alacritty/theme_up.sh
	bindsym n exec ~/.config/alacritty/theme_down.sh

	#bindsym $mod+a focus parent, mode default
	#bindsym $mod+d focus child, mode default
	#bindsym a focus parent, mode default
	#bindsym d focus child, mode default

	#bindsym $mod+s layout stacking, mode default
	#bindsym $mod+w layout tabbed, mode default
	#bindsym $mod+e layout toggle split, mode default
	#bindsym s layout stacking, mode default
	#bindsym w layout tabbed, mode default
	#bindsym e layout toggle split, mode default

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+c mode "default"
        bindsym $mod+m mode "default"
        bindsym m mode "default"
}
bindsym $mod+m mode "window"

mode "evoker" {
	# invert colors (xcalib)
	bindsym $mod+r exec ~/.config/settings/color_inversion.sh, mode default
	bindsym r exec ~/.config/settings/color_inversion.sh, mode default
	# note: on my desktop, a GRUB/systemd parameter is required
	# refer to 'grub_amdgpu' and 'systemd_amdgpu' in ~/.config/settings/man'

	bindsym $mod+a exec ~/.config/settings/dropdown.sh ,[class="dropdown"] scratchpad show, mode default
	bindsym a exec ~/.config/settings/dropdown.sh ,[class="dropdown"] scratchpad show, mode default

	bindsym $mod+f exec firefox, mode default
	bindsym f exec firefox, mode default

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+c mode "default"
        bindsym $mod+e mode "default"
}
bindsym $mod+e mode "evoker"


# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# change workspaces
bindsym $mod+w workspace next
bindsym $mod+Shift+w workspace prev

# custom 'alt+tab'
#bindsym $mod+Tab focus right
#bindsym $mod+Shift+Tab focus left
bindsym $mod+Tab focus next
bindsym $mod+Shift+Tab focus prev

# come back to last workspace with the same keystroke
#workspace_auto_back_and_forth yes

    bindsym $mod+c kill
    bindsym $mod+f fullscreen toggle
    bindsym $mod+r floating toggle


    bindsym $mod+h focus left
    bindsym $mod+j focus down
    bindsym $mod+k focus up
    bindsym $mod+l focus right

    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    bindsym $mod+Control+h resize shrink width 100 px 
    bindsym $mod+Control+j resize grow height 100 px 
    bindsym $mod+Control+k resize shrink height 100 px
    bindsym $mod+Control+l resize grow width 100 px

    bindsym $mod+Shift+h move left 100px
    bindsym $mod+Shift+j move down 100px
    bindsym $mod+Shift+k move up 100px
    bindsym $mod+Shift+l move right 100px

    bindsym $mod+Control+Left resize shrink width 10 px 
    bindsym $mod+Control+Down resize grow height 10 px 
    bindsym $mod+Control+Up resize shrink height 10 px
    bindsym $mod+Control+Right resize grow width 10 px

    bindsym $mod+Shift+Left move left 10px
    bindsym $mod+Shift+Down move down 10px
    bindsym $mod+Shift+Up move up 10px
    bindsym $mod+Shift+Right move right 10px





    bindsym $mod+1 workspace number 1
    bindsym $mod+2 workspace number 2
    bindsym $mod+3 workspace number 3
    bindsym $mod+4 workspace number 4
    bindsym $mod+5 workspace number 5
    bindsym $mod+6 workspace number 6
    bindsym $mod+7 workspace number 7
    bindsym $mod+8 workspace number 8
    bindsym $mod+9 workspace number 9
    bindsym $mod+0 workspace number 10
    bindsym Mod1+Shift+1 workspace number 11
    bindsym Mod1+Shift+2 workspace number 12
    bindsym Mod1+Shift+3 workspace number 13
    bindsym Mod1+Shift+4 workspace number 14
    bindsym Mod1+Shift+5 workspace number 15
    bindsym Mod1+Shift+6 workspace number 16
    bindsym Mod1+Shift+7 workspace number 17
    bindsym Mod1+Shift+8 workspace number 18
    bindsym Mod1+Shift+9 workspace number 19
    bindsym Mod1+Shift+0 workspace number 20

    bindsym $mod+Shift+1 move container to workspace number 1
    bindsym $mod+Shift+2 move container to workspace number 2
    bindsym $mod+Shift+3 move container to workspace number 3
    bindsym $mod+Shift+4 move container to workspace number 4
    bindsym $mod+Shift+5 move container to workspace number 5
    bindsym $mod+Shift+6 move container to workspace number 6
    bindsym $mod+Shift+7 move container to workspace number 7
    bindsym $mod+Shift+8 move container to workspace number 8
    bindsym $mod+Shift+9 move container to workspace number 9
    bindsym $mod+Shift+0 move container to workspace number 10




